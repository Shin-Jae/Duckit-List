extends edittask.pug

include utils.pug

append head
  //- script(src="/javascripts/listButtons.js" type="module")
  script(src="/javascripts/taskButtons.js" type="module")
  script(src="/javascripts/viewTabs.js" type="module")
  script(src="/routes/lists.js" type="module")
  link(rel='stylesheet' href='/stylesheets/tabs.css')

block content
  div.allTabs
    div.listTab
      h1(class='list-title tab clicked') List
      div.viewlist-grid
        div(class='list-sub-container')
          a(href="/lists/new" class="add-to-list-button").create-button-style Create new List
          each list in lists
            div(id=`label-container-${list.id}`).container
              h2(id=`${list.id}-name` class="list-names")= `${list.name}`
              div(id=`container-${list.id}`).container
                div.list-buttons
                  button(type='submit' class='list-edit-btn').button-style Edit
                  button(type='button' class='list-delete-btn' id=`${list.id}-delete`).button-style Delete
                  a(href=`/lists/edit/${list.id}` class='edit-btn' id=`edit-btn-${list.id}`).button-style Edit list name
                  a(href=`/tasks/new/${list.id}`).create-button-style Hatch a new goal!
                  //- each task in list.Tasks
                  //-   if !task.completed
                  //-     div.currentIncompleteContainer
                  //-       a(href=`/lists/${list.id}`)
                  //-         div.inner
                  //-           div(style="font-weight:bold; padding:10px;")= task.description
                  //-             a(href=`/tasks/edit/${task.id}` class='task-edit-btn' id=`task-edit-btn-${task.id}`) Edit
                  //-             a(class='task-delete-btn' id=`task-delete-btn-${task.id}`) Delete
        div.main
          div(class='incomplete-sub-container hide').task-sub-container
              each list in lists
                if list.Tasks.length && list.Tasks.some((task) => !task.completed)
                  h2= list.name
                  each task in list.Tasks
                    if !task.completed
                      div.currentIncompleteContainer
                        div(id=`task-container-${task.id}`)
                          div.inner
                            div(style="font-weight:bold; padding:10px;" class=`task-description-${task.id}`)= task.description
                            button(type='button' class='task-edit-btn' id=`task-edit-btn-id:${task.id}`).button-style Edit
                            a(class='task-delete-btn' id=`task-delete-btn-${task.id}`).button-style Delete
          div(class='completed-sub-container hide').task-sub-container
            each list in lists
              h2= list.name
              each task in list.Tasks
                if task.completed
                  div.currentCompleteContainer
                    div(id=`task-container-${task.id}`)
                        div.inner
                          div(style="font-weight:bold; padding:10px;" class=`task-description-${task.id}`)= task.description
                            button(type='button' class='task-edit-btn' id=`task-edit-btn-id:${task.id}`).button-style Edit
                            a(class='task-delete-btn' id=`task-delete-btn-${task.id}`).button-style Delete


    div.incompleteTab
      h1(class='incomplete-title tab') Incomplete

    div.completeTab
      h1(class='completed-title tab') Complete

                    //- if task.image && task.image !== "null"
                    //-  img(class="complete-task-list-image" src=task.image)



//- div.tables
//- div(id="allTasksId").currentList All Tasks
//- div(id="incompleteTasksId").incomplete Incomplete
//- div(id="completeTasksId").complete Complete

//- div(class="allLists" class="hidden").listsTable
      //-   each task in list.Tasks
      //-     div.currentListContainer
      //-       a(href=`/lists/${list.id}`)
      //-         div.inner
      //-           div(style="font-weight:bold; padding:10px;")= task.description
      //-               input(type='checkbox')
      //-               a(href=`/tasks/edit/${task.id}` class='task-edit-btn' id=`task-edit-btn-${task.id}`) Edit
      //-               button(class='task-delete-btn' id=`task-delete-btn-${task.id}`) Delete
