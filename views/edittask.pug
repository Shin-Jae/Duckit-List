extends homepage.pug

include utils.pug

append head
  script(src="/javascripts/taskButtons.js" type="module")

block content
  div(style="margin:30px").title
    a(href="/lists/new" class="add-to-list-button") Create new List
  each list in lists
    ul
      div(id=`container-${list.id}` style="margin:50px").container
        a(href=`/lists/${list.id}`)
          li(id=`${list.id}-name`)= `List: ${list.name}`
        a(href=`/lists/edit/${list.id}` class='edit-btn' id=`edit-btn-${list.id}`) Edit
        button(class='delete-btn' id=`delete-btn-${list.id}`) Delete
        div(id=`container-${list.id}`).container
          a(href='/tasks/new') Hatch a new goal!
          each task in list.Tasks
            div(id=`task-container-${task.id}`).task
              li(id=`${task.id}-desc`)= `--Tasks: ${task.description}`
                input(type='checkbox')
                button(class='task-edit-btn' id=`task-edit-btn-${task.id}`) Edit
                button(class='task-delete-btn' id=`task-delete-btn-${task.id}`) Delete
  .container
    p Woud you like to edit your Task?
      +validationErrorSummary(errors)
      div(id='task-errors')
      form(id=`edit-task-${task.id}`)
        input(type='hidden' name="_csrf" value=csrfToken id='csrf-token')
        label(for=description) Description
        input(type="text" id=`task-description-${task.id}` decription=description placeholder=task.description)
        label(for=timeframe) Timeframe
        input(type="date" id=`task-timeframe-${task.id}` timeframe=timeframe placeholder=task.timeframe)
        label(for=cost) Cost
        input(type="number" min="0" id=`task-cost-${task.id}` cost=cost placeholder=task.cost)
        label(for=image) Image
        input(type="text" id=`task-image-${task.id}` image=image placeholder=task.image)
        label(for=completed) Completed?
        select(id=`task-completed-${task.id}` completed=completed)
          option(id='no') No
          option(id='yes') Yes

        //- label(for=category) Category
        //- input(type=text id=`task-category-${task.id}` category=category placeholder=task.category)
        div(class='form-submit')
        button(type='button' class='tasksubmit-btn' id=`edit-submit-${task.id}`) Save
      a(href='/lists' class='cancel-btn') Cancel
        //- button(type='button' id='test-button') TEST
