extends homepage.pug

include utils.pug

block content
  script(src="/javascripts/taskButtons.js" type="module")
  a(href="/lists/new" class="add-to-list-button") Create new List
  each list in lists
    ul
      div(id=`container-${list.id}`).container
        a(href=`/lists/${list.id}`)
          li(id=`${list.id}-name`)= `List: ${list.name}`
        a(href=`/lists/edit/${list.id}` class='edit-btn' id=`edit-btn-${list.id}`) Edit
        button(class='delete-btn' id=`delete-btn-${list.id}`) Delete
        div(id=`container-${list.id}`).container
          a(href='/tasks/new') Hatch a new goal!
          each task in list.Tasks
            div(id=`task-container-${task.id}`).task
              li(id=`${task.id}-desc`)= `--Tasks: ${task.description}`
                input(type='checkbox')
                button(class='task-edit-btn' id=`task-edit-btn-${task.id}`) Edit
                button(class='task-delete-btn' id=`task-delete-btn-${task.id}`) Delete
  .container
    p Woud you like to edit your Task?
      +validationErrorSummary(errors)
      form(id=`edit-task-${task.id}`)
        input(type='hidden' name="_csrf" value=csrfToken)
        label(for=description) Task Description
        input(type=text id=`task-description-${task.id}` decription=description placeholder=task.description)
        div(class='form-submit')
        button(type='button' class='tasksubmit-btn' id=`edit-submit-${task.id}`) Save
        a(href='/lists' class='cancel-btn') Cancel
        //- button(type='button' id='test-button') TEST
