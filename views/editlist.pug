extends homepage.pug

include utils.pug

block content
  script(src="/javascripts/listButtons.js" type="module")
  a(href="/lists/new" class="add-to-list-button") Create new List
  each list in lists
    ul
      div(id=`container-${list.id}`).container
        a(href=`/lists/${list.id}`)
          li(id=`${list.id}-name`)= `List: ${list.name}`
        a(href=`/lists/edit/${list.id}` class='edit-btn' id=`edit-btn-${list.id}`) Edit
        button(class='delete-btn' id=`delete-btn-${list.id}`) Delete
        div(id=`container-${list.id}`).container
          a(href='/tasks/new') Hatch a new goal!
          each task in list.Tasks
            div(id=`task-container-${list.id}`).task
              li= `--Tasks: ${task.description}`
                input(type='checkbox')
  .container
    p Woud you like to edit your #{list.name} list?
      +validationErrorSummary(errors)
      form(action=`/lists/edit/${list.id}` method='put' id=`edit-list-${list.id}`)
        input(type='hidden' name="_csrf" value=csrfToken)
        label(for=name) List name
        input(type=text id=`list-name-${list.id}` name=name placeholder=list.name)
        div(class='form-submit')
        button(type='submit' class='submit-btn' id=`edit-submit-${list.id}`) Save
        a(href='/lists' class='cancel-btn') Cancel
